<script src="https://code.jquery.com/jquery-1.x-git.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>  

{% assign imgs = page.images | split: "," %}

<script>
   $(function () {
            var arrayOfPartenaires = [
            {% for image in imgs %}
            "{{image}}",
            {% endfor %}
            ];
            console.log(arrayOfPartenaires);
            var loaders = 0;
            var old_element = arrayOfPartenaires[0];
            function cycleImages() {
                var element = arrayOfPartenaires[loaders];
                $("#imagen-bg").css({ 'background-image': 'url(' + old_element + ')' });
                $("#imagen").css({ 'background-image': 'url(' + element + ')' }).animate({ opacity: 1 }).hide().fadeIn("slow");
                if (loaders < arrayOfPartenaires.length) {
                    old_element = element;
                    loaders = loaders + 1;
                    if (loaders >= arrayOfPartenaires.length) {                        
                        loaders = 0;
                    } 
                }
                else {
                    loaders = 0;
                }
                console.log(loaders, arrayOfPartenaires[loaders]);
            }
            cycleImages();
            setInterval(function () { cycleImages() }, 3000);
        });
</script>
</body>
</html>